package main

import (
	"fmt"
)

type singleton struct {
	connection string
}

var instance *singleton

// GetInstance checks if instance is nil and creates it if needed
func GetInstance() *singleton {
	if instance == nil {
		fmt.Println("Creating single instance now...")
		instance = &singleton{connection: "DB Connection"}
	}
	return instance
}

func main() {
	db1 := GetInstance()
	fmt.Println("First call:", db1.connection)

	db2 := GetInstance()
	fmt.Println("Second call:", db2.connection)

	if db1 == db2 {
		fmt.Println("Both instances are the same (singleton verified).")
	} else {
		fmt.Println("Different instances (singleton failed).")
	}
}
